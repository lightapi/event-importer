{"id": "0198c956-e392-72bc-a783-85cc3a61b24f", "data": {"spec": "---\nopenapi: \"3.1.0\"\ninfo:\n  version: \"1.0.0\"\n  title: \"Swagger Petstore\"\n  license:\n    name: \"MIT\"\nservers:\n- url: \"http://petstore.swagger.io/v1\"\npaths:\n  /pets:\n    get:\n      summary: \"List all pets\"\n      operationId: \"listPets\"\n      tags:\n      - \"pets\"\n      parameters:\n      - name: \"limit\"\n        in: \"query\"\n        description: \"How many items to return at one time (max 100)\"\n        required: false\n        schema:\n          type: \"integer\"\n          format: \"int32\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n      responses:\n        \"200\":\n          description: \"An paged array of pets\"\n          headers:\n            x-next:\n              description: \"A link to the next page of responses\"\n              schema:\n                type: \"string\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/Pet\"\n              example:\n              - id: 1\n                name: \"catten\"\n                tag: \"cat\"\n              - id: 2\n                name: \"doggy\"\n                tag: \"dog\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n    post:\n      summary: \"Create a pet\"\n      operationId: \"createPets\"\n      requestBody:\n        description: \"Pet to add to the store\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Pet\"\n      tags:\n      - \"pets\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n        - \"write:pets\"\n      responses:\n        \"201\":\n          description: \"Null response\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /pets/{petId}:\n    get:\n      summary: \"Info for a specific pet\"\n      operationId: \"showPetById\"\n      tags:\n      - \"pets\"\n      parameters:\n      - name: \"petId\"\n        in: \"path\"\n        required: true\n        description: \"The id of the pet to retrieve\"\n        schema:\n          type: \"string\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n      responses:\n        \"200\":\n          description: \"Expected response to a valid request\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Pet\"\n              example:\n                id: 1\n                name: \"Jessica Right\"\n                tag: \"pet\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n    put:\n      summary: \"Update a pet\"\n      operationId: \"updatePets\"\n      parameters:\n      - name: \"petId\"\n        in: \"path\"\n        required: true\n        description: \"The id of the pet to update\"\n        schema:\n          type: \"string\"\n      requestBody:\n        description: \"Pet to update\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/UpdatePet\"\n      tags:\n      - \"pets\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n        - \"write:pets\"\n      responses:\n        \"200\":\n          description: \"Successfully updated pets\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n    delete:\n      summary: \"Delete a specific pet\"\n      operationId: \"deletePetById\"\n      tags:\n      - \"pets\"\n      parameters:\n      - name: \"petId\"\n        in: \"path\"\n        required: true\n        description: \"The id of the pet to delete\"\n        schema:\n          type: \"string\"\n      - name: \"key\"\n        in: \"header\"\n        required: true\n        description: \"The key header\"\n        schema:\n          type: \"string\"\n      security:\n      - petstore_auth:\n        - \"write:pets\"\n      responses:\n        \"200\":\n          description: \"Expected response to a valid request\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Pet\"\n              examples:\n                response:\n                  value:\n                    id: 1\n                    name: \"Jessica Right\"\n                    tag: \"pet\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /accounts:\n    get:\n      summary: \"Get a list of accounts\"\n      operationId: \"getAccounts\"\n      tags:\n      - \"accounts\"\n      parameters:\n      - name: \"limit\"\n        in: \"query\"\n        description: \"How many items to return at one time (max 100)\"\n        required: false\n        schema:\n          type: \"integer\"\n          format: \"int32\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n      responses:\n        \"200\":\n          description: \"An paged array of accounts\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/Account\"\n              example:\n              - accountNo: 123\n                ownerId: \"johndoe\"\n                accountType: \"P\"\n                firstName: \"John\"\n                lastName: \"Doe\"\n                status: \"O\"\n              - id: 2\n                accountNo: 456\n                ownerId: \"johndoe\"\n                accountType: \"B\"\n                firstName: \"John\"\n                lastName: \"Doe\"\n                status: \"C\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n    post:\n      summary: \"Create an account\"\n      operationId: \"createAccount\"\n      requestBody:\n        description: \"Account to add to the system\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Account\"\n      tags:\n      - \"accounts\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n        - \"write:pets\"\n      responses:\n        \"201\":\n          description: \"Null response\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /accounts/{accountNo}:\n    get:\n      summary: \"get account with a specific accountNo\"\n      operationId: \"getAccountByNo\"\n      tags:\n      - \"accounts\"\n      parameters:\n      - name: \"accountNo\"\n        in: \"path\"\n        required: true\n        description: \"The accountNo of the account to retrieve\"\n        schema:\n          type: \"string\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n      responses:\n        \"200\":\n          description: \"Expected response to a valid request\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Account\"\n              example:\n                accountNo: 123\n                ownerId: \"johndoe\"\n                accountType: \"P\"\n                firstName: \"John\"\n                lastName: \"Doe\"\n                status: \"O\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n    put:\n      summary: \"Update an account by accountNo\"\n      operationId: \"updateAccountByNo\"\n      parameters:\n      - name: \"accountNo\"\n        in: \"path\"\n        required: true\n        description: \"The account no of the account to update\"\n        schema:\n          type: \"string\"\n      requestBody:\n        description: \"Account to update\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Account\"\n      tags:\n      - \"accounts\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n        - \"write:pets\"\n      responses:\n        \"200\":\n          description: \"Successfully updated accounts\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n    delete:\n      summary: \"Delete a specific account by accountNo\"\n      operationId: \"deleteAccountByNo\"\n      tags:\n      - \"accounts\"\n      parameters:\n      - name: \"accountNo\"\n        in: \"path\"\n        required: true\n        description: \"The no of the account to delete\"\n        schema:\n          type: \"string\"\n      security:\n      - petstore_auth:\n        - \"write:pets\"\n      responses:\n        \"200\":\n          description: \"Expected response to a valid request\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Account\"\n              examples:\n                response:\n                  value:\n                    accountNo: 123\n                    ownerId: \"johndoe\"\n                    accountType: \"P\"\n                    firstName: \"John\"\n                    lastName: \"Doe\"\n                    status: \"O\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /notifications:\n    get:\n      summary: \"Get Notifications\"\n      operationId: \"listNotifications\"\n      tags:\n      - \"notifications\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n      responses:\n        \"200\":\n          description: \"A standard notification response in JSON for response interceptor\\\n            \\ test\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /flowers:\n    post:\n      summary: \"The API accept XML and the consumer is using JSON\"\n      operationId: \"flowers\"\n      tags:\n      - \"flowers\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n      responses:\n        \"200\":\n          description: \"Return an flowers XML as the demo soap service\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /documents:\n    get:\n      summary: \"The API to get a document in a JSON with base64 content\"\n      operationId: \"documents\"\n      tags:\n      - \"documents\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n      responses:\n        \"200\":\n          description: \"Return a document with base64 content in JSON format\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /streams:\n    get:\n      summary: \"The API to get a stream of json response\"\n      operationId: \"streams\"\n      tags:\n      - \"streams\"\n      security:\n      - petstore_auth:\n        - \"read:pets\"\n      responses:\n        \"200\":\n          description: \"Return a stream with json content in JSON format\"\n        default:\n          description: \"unexpected error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\ncomponents:\n  securitySchemes:\n    petstore_auth:\n      type: \"oauth2\"\n      description: \"This API uses OAuth 2 with the client credential grant flow.\"\n      flows:\n        clientCredentials:\n          tokenUrl: \"https://localhost:6882/token\"\n          scopes:\n            write:pets: \"modify pets in your account\"\n            read:pets: \"read your pets\"\n  schemas:\n    Pet:\n      allOf:\n      - $ref: \"#/components/schemas/NewPet\"\n      - type: \"object\"\n        required:\n        - \"id\"\n        properties:\n          id:\n            type: \"integer\"\n            format: \"int64\"\n    NewPet:\n      type: \"object\"\n      required:\n      - \"name\"\n      properties:\n        name:\n          type: \"string\"\n        tag:\n          type: \"string\"\n    UpdatePet:\n      type: \"object\"\n      properties:\n        petAge:\n          $ref: \"#/components/schemas/petAge\"\n        petToys:\n          $ref: \"#/components/schemas/petToys\"\n        ownerEmail:\n          $ref: \"#/components/schemas/ownerEmail\"\n        ownerSsn:\n          $ref: \"#/components/schemas/ownerSsn\"\n      additionalProperties: false\n    petAge:\n      maximum: 20\n      minimum: 1\n      type: \"integer\"\n      description: \"current age of the pet\"\n      nullable: false\n    petToys:\n      type: \"array\"\n      description: \"Toys of the pet\"\n      items:\n        type: \"string\"\n    ownerEmail:\n      maxLength: 65\n      minLength: 2\n      pattern: \"^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\.[A-Z]{2,6}$\"\n      type: \"string\"\n      description: \"owner email\"\n    ownerSsn:\n      pattern: \"^\\\\d{3}-\\\\d{2}-\\\\d{4}$\"\n      type: \"string\"\n      description: \"owner SSN\"\n    Account:\n      type: \"object\"\n      required:\n      - \"accountNo\"\n      - \"userId\"\n      - \"accountType\"\n      - \"status\"\n      properties:\n        accountNo:\n          type: \"string\"\n        userId:\n          type: \"string\"\n        accountType:\n          type: \"string\"\n        firstName:\n          type: \"string\"\n        lastName:\n          type: \"string\"\n        status:\n          type: \"string\"\n    Error:\n      type: \"object\"\n      required:\n      - \"code\"\n      - \"message\"\n      properties:\n        code:\n          type: \"integer\"\n          format: \"int32\"\n        message:\n          type: \"string\"\n", "apiId": "0100", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "apiType": "openapi", "updateTs": "2025-08-20T20:24:33.378606Z", "endpoints": [{"scopes": ["read:pets"], "endpoint": "/v1/pets@get", "endpointId": "0198c956-e328-70d7-abdd-b09e76a1e0ae", "httpMethod": "get", "endpointDesc": "List all pets", "endpointName": "listPets", "endpointPath": "/pets"}, {"scopes": ["read:pets", "write:pets"], "endpoint": "/v1/pets@post", "endpointId": "0198c956-e328-71d4-abde-5634b0b609f2", "httpMethod": "post", "endpointDesc": "Create a pet", "endpointName": "createPets", "endpointPath": "/pets"}, {"scopes": ["read:pets"], "endpoint": "/v1/pets/{petId}@get", "endpointId": "0198c956-e328-7218-abdf-d05d619bce98", "httpMethod": "get", "endpointDesc": "Info for a specific pet", "endpointName": "showPetById", "endpointPath": "/pets/{petId}"}, {"scopes": ["read:pets", "write:pets"], "endpoint": "/v1/pets/{petId}@put", "endpointId": "0198c956-e328-7246-abe0-f778483432ec", "httpMethod": "put", "endpointDesc": "Update a pet", "endpointName": "updatePets", "endpointPath": "/pets/{petId}"}, {"scopes": ["write:pets"], "endpoint": "/v1/pets/{petId}@delete", "endpointId": "0198c956-e328-7267-abe1-093f1a5210cb", "httpMethod": "delete", "endpointDesc": "Delete a specific pet", "endpointName": "deletePetById", "endpointPath": "/pets/{petId}"}, {"scopes": ["read:pets"], "endpoint": "/v1/accounts@get", "endpointId": "0198c956-e328-7289-abe2-8a39e2d65358", "httpMethod": "get", "endpointDesc": "Get a list of accounts", "endpointName": "getAccounts", "endpointPath": "/accounts"}, {"scopes": ["read:pets", "write:pets"], "endpoint": "/v1/accounts@post", "endpointId": "0198c956-e328-72ab-abe3-181e2259fd4d", "httpMethod": "post", "endpointDesc": "Create an account", "endpointName": "createAccount", "endpointPath": "/accounts"}, {"scopes": ["read:pets"], "endpoint": "/v1/accounts/{accountNo}@get", "endpointId": "0198c956-e328-72cc-abe4-8ace696ae816", "httpMethod": "get", "endpointDesc": "get account with a specific accountNo", "endpointName": "getAccountByNo", "endpointPath": "/accounts/{accountNo}"}, {"scopes": ["read:pets", "write:pets"], "endpoint": "/v1/accounts/{accountNo}@put", "endpointId": "0198c956-e328-72ea-abe5-50d4c19975ff", "httpMethod": "put", "endpointDesc": "Update an account by accountNo", "endpointName": "updateAccountByNo", "endpointPath": "/accounts/{accountNo}"}, {"scopes": ["write:pets"], "endpoint": "/v1/accounts/{accountNo}@delete", "endpointId": "0198c956-e328-7306-abe6-77ad2b169c17", "httpMethod": "delete", "endpointDesc": "Delete a specific account by accountNo", "endpointName": "deleteAccountByNo", "endpointPath": "/accounts/{accountNo}"}, {"scopes": ["read:pets"], "endpoint": "/v1/notifications@get", "endpointId": "0198c956-e328-7329-abe7-235d312103cb", "httpMethod": "get", "endpointDesc": "Get Notifications", "endpointName": "listNotifications", "endpointPath": "/notifications"}, {"scopes": ["read:pets"], "endpoint": "/v1/flowers@post", "endpointId": "0198c956-e328-734a-abe8-0c6b49050984", "httpMethod": "post", "endpointDesc": "The API accept XML and the consumer is using JSON", "endpointName": "flowers", "endpointPath": "/flowers"}, {"scopes": ["read:pets"], "endpoint": "/v1/documents@get", "endpointId": "0198c956-e328-7368-abe9-6132ca04577b", "httpMethod": "get", "endpointDesc": "The API to get a document in a JSON with base64 content", "endpointName": "documents", "endpointPath": "/documents"}, {"scopes": ["read:pets"], "endpoint": "/v1/streams@get", "endpointId": "0198c956-e328-7384-abea-cd0a72f5127a", "httpMethod": "get", "endpointDesc": "The API to get a stream of json response", "endpointName": "streams", "endpointPath": "/streams"}], "serviceId": "com.networknt.petstore-1.0.0", "apiVersion": "1.0.0", "updateUser": "postgres", "apiVersionId": "019664ec-c3e4-71f0-9b6c-3c0893ee688e", "apiVersionDesc": "First Major release", "aggregateVersion": 1, "newAggregateVersion": 2}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-08-20T21:16:11.538207875Z", "type": "ServiceSpecUpdatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "2", "source": "https://github.com/lightapi/light-portal", "subject": "019664ec-c3e4-71f0-9b6c-3c0893ee688e", "specversion": "1.0", "aggregatetype": "ServiceSpec", "datacontenttype": "application/json", "aggregateversion": "2"}
{"id": "01991a92-cc54-754f-b0e4-46b9d6d7bfd9", "data": {"common": "Y", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "ruleId": "role-based-auth-skip-cc.lightapi.net.dev.lightapi.net", "actions": [{"actionId": "match-role", "actionValues": [{"value": "$roles", "actionValueId": "roles", "valueTypeCode": "STRING"}], "actionClassName": "com.networknt.rule.FineGrainedAuthAction", "conditionResult": false}], "ruleBody": "{\"hostId\":\"01964b05-552a-7c4b-9184-6857e7f3dc5f\",\"ruleType\":\"req-acc\",\"ruleOwner\":\"01964b05-5532-7c79-8cde-191dcbd421b8\",\"common\":\"Y\",\"ruleId\":\"role-based-auth-skip-cc.lightapi.net.dev.lightapi.net\",\"ruleName\":\"Role-Based Access Control for Authorization Code Token with CC Token Allowed\",\"ruleVersion\":\"1.0.0\",\"conditions\":[{\"operatorCode\":\"isNull\",\"conditionId\":\"allow-cc\",\"propertyPath\":\"auditInfo.subject_claims.ClaimsMap.uid\",\"index\":1},{\"operatorCode\":\"isNotNull\",\"conditionId\":\"allow-role\",\"propertyPath\":\"auditInfo.subject_claims.ClaimsMap.role\",\"index\":2}],\"actions\":[{\"conditionResult\":false,\"actionId\":\"match-role\",\"actionClassName\":\"com.networknt.rule.FineGrainedAuthAction\",\"actionValues\":[{\"valueTypeCode\":\"STRING\",\"actionValueId\":\"roles\",\"value\":\"$roles\"}]}]}", "ruleName": "Role-Based Access Control for Authorization Code Token with CC Token Allowed", "ruleType": "req-acc", "ruleOwner": "01964b05-5532-7c79-8cde-191dcbd421b8", "conditions": [{"index": 1, "conditionId": "allow-cc", "operatorCode": "isNull", "propertyPath": "auditInfo.subject_claims.ClaimsMap.uid"}, {"index": 2, "conditionId": "allow-role", "operatorCode": "isNotNull", "propertyPath": "auditInfo.subject_claims.ClaimsMap.role"}], "ruleVersion": "1.0.0", "aggregateVersion": 0, "newAggregateVersion": 1}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-09-05T15:50:52.244366352Z", "type": "RuleCreatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "3", "source": "https://github.com/lightapi/light-portal", "subject": "role-based-auth-skip-cc.lightapi.net.dev.lightapi.net", "specversion": "1.0", "aggregatetype": "Rule", "datacontenttype": "application/json", "aggregateversion": "1"}
{"id": "01991aa9-2cd1-76d8-97ed-86a6d8307497", "data": {"common": "Y", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "ruleId": "allow-client-credentials-token.lightapi.net.dev.lightapi.net", "ruleBody": "{\"hostId\":\"01964b05-552a-7c4b-9184-6857e7f3dc5f\",\"ruleType\":\"req-acc\",\"ruleOwner\":\"01964b05-5532-7c79-8cde-191dcbd421b8\",\"common\":\"Y\",\"ruleId\":\"allow-client-credentials-token.lightapi.net.dev.lightapi.net\",\"ruleName\":\"Allow one and only one client credentials token to access for service to service invocation.\",\"ruleVersion\":\"1.0.0\",\"conditions\":[{\"operatorCode\":\"isNotNull\",\"conditionId\":\"claim-is-not-null\",\"propertyPath\":\"auditInfo.subject_claims.ClaimsMap\",\"conditionDesc\":\"audit info subject claims map is not null\",\"index\":1},{\"operatorCode\":\"\",\"conditionId\":\"uid-is-null\",\"conditionDesc\":\"uid in the claim map is null that indicates it is a client credentials token\",\"propertyPath\":\"auditInfo.subject_claims.ClaimsMap.uid\",\"index\":2}],\"conditionExpression\":\"(claim-is-not-null AND uid-is-null)\"}", "ruleName": "Allow one and only one client credentials token to access for service to service invocation.", "ruleType": "req-acc", "ruleOwner": "01964b05-5532-7c79-8cde-191dcbd421b8", "conditions": [{"index": 1, "conditionId": "claim-is-not-null", "operatorCode": "isNotNull", "propertyPath": "auditInfo.subject_claims.ClaimsMap", "conditionDesc": "audit info subject claims map is not null"}, {"index": 2, "conditionId": "uid-is-null", "operatorCode": "", "propertyPath": "auditInfo.subject_claims.ClaimsMap.uid", "conditionDesc": "uid in the claim map is null that indicates it is a client credentials token"}], "ruleVersion": "1.0.0", "aggregateVersion": 0, "conditionExpression": "(claim-is-not-null AND uid-is-null)", "newAggregateVersion": 1}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-09-05T16:15:18.737477012Z", "type": "RuleCreatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "4", "source": "https://github.com/lightapi/light-portal", "subject": "allow-client-credentials-token.lightapi.net.dev.lightapi.net", "specversion": "1.0", "aggregatetype": "Rule", "datacontenttype": "application/json", "aggregateversion": "1"}
{"id": "01991ab5-298b-749a-bf14-f62066ffd69e", "data": {"common": "Y", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "ruleId": "allow-role-based-access-control.lightapi.net.dev.lightapi.net", "actions": [{"actionId": "role-based-access-control-action", "actionDesc": "Call action to verify the role claim", "actionValues": [{"value": "$roles", "actionValueId": "permission-roles", "valueTypeCode": "STRING"}], "actionClassName": "com.networknt.rule.RoleBasedAccessControlAction", "conditionResult": false}], "ruleBody": "{\"hostId\":\"01964b05-552a-7c4b-9184-6857e7f3dc5f\",\"ruleType\":\"req-acc\",\"ruleOwner\":\"01964b05-5532-7c79-8cde-191dcbd421b8\",\"common\":\"Y\",\"ruleId\":\"allow-role-based-access-control.lightapi.net.dev.lightapi.net\",\"ruleName\":\"Role-Based Access Control for authorization code token.\",\"ruleVersion\":\"1.0.0\",\"ruleDesc\":\"If the token has role claim, then at least one role in the JWT role claim matches the endpoint permission roles configuration.\",\"conditions\":[{\"operatorCode\":\"isNotNull\",\"conditionId\":\"role-is-not-null\",\"conditionDesc\":\"role in the claim map is not null indicate the token has a role claim. Match it with the endpoint permission with the action.\",\"propertyPath\":\"auditInfo.subject_claims.ClaimsMap.role\",\"index\":1}],\"actions\":[{\"conditionResult\":false,\"actionId\":\"role-based-access-control-action\",\"actionDesc\":\"Call action to verify the role claim\",\"actionClassName\":\"com.networknt.rule.RoleBasedAccessControlAction\",\"actionValues\":[{\"valueTypeCode\":\"STRING\",\"actionValueId\":\"permission-roles\",\"value\":\"$roles\"}]}]}", "ruleDesc": "If the token has role claim, then at least one role in the JWT role claim matches the endpoint permission roles configuration.", "ruleName": "Role-Based Access Control for authorization code token.", "ruleType": "req-acc", "ruleOwner": "01964b05-5532-7c79-8cde-191dcbd421b8", "conditions": [{"index": 1, "conditionId": "role-is-not-null", "operatorCode": "isNotNull", "propertyPath": "auditInfo.subject_claims.ClaimsMap.role", "conditionDesc": "role in the claim map is not null indicate the token has a role claim. Match it with the endpoint permission with the action."}], "ruleVersion": "1.0.0", "aggregateVersion": 0, "newAggregateVersion": 1}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-09-05T16:28:24.331321919Z", "type": "RuleCreatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "5", "source": "https://github.com/lightapi/light-portal", "subject": "allow-role-based-access-control.lightapi.net.dev.lightapi.net", "specversion": "1.0", "aggregatetype": "Rule", "datacontenttype": "application/json", "aggregateversion": "1"}
{"id": "01991ac0-355a-7a57-bf35-7a41747e2407", "data": {"common": "Y", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "ruleId": "allow-group-based-access-control.lightapi.net.dev.lightapi.net", "actions": [{"actionId": "group-based-access-control-action", "actionDesc": "Call action to verify the grp claim", "actionClassName": "com.networknt.rule.GroupBasedAccessControlAction", "conditionResult": false}], "ruleBody": "{\"hostId\":\"01964b05-552a-7c4b-9184-6857e7f3dc5f\",\"ruleType\":\"req-acc\",\"ruleOwner\":\"01964b05-5532-7c79-8cde-191dcbd421b8\",\"common\":\"Y\",\"ruleId\":\"allow-group-based-access-control.lightapi.net.dev.lightapi.net\",\"ruleName\":\"Group-Based Access Control for authorization code token.\",\"ruleVersion\":\"1.0.0\",\"ruleDesc\":\"If the token has grp claim, then at least one grp in the JWT grp claim matches the endpoint permission groups configuration.\",\"conditions\":[{\"operatorCode\":\"\",\"conditionId\":\"grp-is-not-null\",\"conditionDesc\":\"grp in the claim map is not null indicate the token has a grp claim. Match it with the endpoint permission with the action.\",\"propertyPath\":\"auditInfo.subject_claims.ClaimsMap.grp\",\"index\":1}],\"actions\":[{\"conditionResult\":false,\"actionId\":\"group-based-access-control-action\",\"actionDesc\":\"Call action to verify the grp claim\",\"actionClassName\":\"com.networknt.rule.GroupBasedAccessControlAction\"}]}", "ruleDesc": "If the token has grp claim, then at least one grp in the JWT grp claim matches the endpoint permission groups configuration.", "ruleName": "Group-Based Access Control for authorization code token.", "ruleType": "req-acc", "ruleOwner": "01964b05-5532-7c79-8cde-191dcbd421b8", "conditions": [{"index": 1, "conditionId": "grp-is-not-null", "operatorCode": "", "propertyPath": "auditInfo.subject_claims.ClaimsMap.grp", "conditionDesc": "grp in the claim map is not null indicate the token has a grp claim. Match it with the endpoint permission with the action."}], "ruleVersion": "1.0.0", "aggregateVersion": 0, "newAggregateVersion": 1}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-09-05T16:40:28.25068817Z", "type": "RuleCreatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "6", "source": "https://github.com/lightapi/light-portal", "subject": "allow-group-based-access-control.lightapi.net.dev.lightapi.net", "specversion": "1.0", "aggregatetype": "Rule", "datacontenttype": "application/json", "aggregateversion": "1"}
{"id": "01991ac4-6bf3-728e-9ae0-23ccc65f61aa", "data": {"common": "Y", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "ruleId": "allow-position-based-access-control.lightapi.net.dev.lightapi.net", "actions": [{"actionId": "position-based-access-control-action", "actionDesc": "Call action to verify the pos claim", "actionClassName": "com.networknt.rule.PositionBasedAccessControlAction", "conditionResult": false}], "ruleBody": "{\"hostId\":\"01964b05-552a-7c4b-9184-6857e7f3dc5f\",\"ruleType\":\"req-acc\",\"ruleOwner\":\"01964b05-5532-7c79-8cde-191dcbd421b8\",\"common\":\"Y\",\"ruleId\":\"allow-position-based-access-control.lightapi.net.dev.lightapi.net\",\"ruleName\":\"Group-Based Access Control for authorization code token.\",\"ruleVersion\":\"1.0.0\",\"ruleDesc\":\"If the token has pos claim, then at least one pos in the JWT pos claim matches the endpoint permission positions configuration.\",\"conditions\":[{\"operatorCode\":\"isNotNull\",\"conditionId\":\"pos-is-not-null\",\"conditionDesc\":\"pos in the claim map is not null indicate the token has a pos claim. Match it with the endpoint permission with the action.\",\"propertyPath\":\"auditInfo.subject_claims.ClaimsMap.pos\",\"index\":1}],\"actions\":[{\"conditionResult\":false,\"actionId\":\"position-based-access-control-action\",\"actionDesc\":\"Call action to verify the pos claim\",\"actionClassName\":\"com.networknt.rule.PositionBasedAccessControlAction\"}]}", "ruleDesc": "If the token has pos claim, then at least one pos in the JWT pos claim matches the endpoint permission positions configuration.", "ruleName": "Group-Based Access Control for authorization code token.", "ruleType": "req-acc", "ruleOwner": "01964b05-5532-7c79-8cde-191dcbd421b8", "conditions": [{"index": 1, "conditionId": "pos-is-not-null", "operatorCode": "isNotNull", "propertyPath": "auditInfo.subject_claims.ClaimsMap.pos", "conditionDesc": "pos in the claim map is not null indicate the token has a pos claim. Match it with the endpoint permission with the action."}], "ruleVersion": "1.0.0", "aggregateVersion": 0, "newAggregateVersion": 1}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-09-05T16:45:04.37119082Z", "type": "RuleCreatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "7", "source": "https://github.com/lightapi/light-portal", "subject": "allow-position-based-access-control.lightapi.net.dev.lightapi.net", "specversion": "1.0", "aggregatetype": "Rule", "datacontenttype": "application/json", "aggregateversion": "1"}
{"id": "01991ac8-4f0d-7b39-bc03-cd4270b7206e", "data": {"common": "Y", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "ruleId": "allow-user-based-access-control.lightapi.net.dev.lightapi.net", "actions": [{"actionId": "user-based-access-control-action", "actionDesc": "Call action to verify the uid claim", "actionClassName": "com.networknt.rule.UserBasedAccessControlAction", "conditionResult": false}], "ruleBody": "{\"hostId\":\"01964b05-552a-7c4b-9184-6857e7f3dc5f\",\"ruleType\":\"req-acc\",\"ruleOwner\":\"01964b05-5532-7c79-8cde-191dcbd421b8\",\"common\":\"Y\",\"ruleDesc\":\"If the token has uid claim, then the uid in the JWT claim matches the endpoint permission users configuration.\",\"ruleName\":\"User-Based Access Control for authorization code token.\",\"ruleId\":\"allow-user-based-access-control.lightapi.net.dev.lightapi.net\",\"ruleVersion\":\"1.0.0\",\"conditions\":[{\"operatorCode\":\"isNotNull\",\"conditionId\":\"uid-is-not-null\",\"conditionDesc\":\"uid in the claim map is not null indicate the token has a uid claim. Match it with the endpoint permission with the action.\",\"propertyPath\":\"auditInfo.subject_claims.ClaimsMap.uid\",\"index\":1}],\"actions\":[{\"conditionResult\":false,\"actionId\":\"user-based-access-control-action\",\"actionDesc\":\"Call action to verify the uid claim\",\"actionClassName\":\"com.networknt.rule.UserBasedAccessControlAction\"}]}", "ruleDesc": "If the token has uid claim, then the uid in the JWT claim matches the endpoint permission users configuration.", "ruleName": "User-Based Access Control for authorization code token.", "ruleType": "req-acc", "ruleOwner": "01964b05-5532-7c79-8cde-191dcbd421b8", "conditions": [{"index": 1, "conditionId": "uid-is-not-null", "operatorCode": "isNotNull", "propertyPath": "auditInfo.subject_claims.ClaimsMap.uid", "conditionDesc": "uid in the claim map is not null indicate the token has a uid claim. Match it with the endpoint permission with the action."}], "ruleVersion": "1.0.0", "aggregateVersion": 0, "newAggregateVersion": 1}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-09-05T16:49:19.117748863Z", "type": "RuleCreatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "8", "source": "https://github.com/lightapi/light-portal", "subject": "allow-user-based-access-control.lightapi.net.dev.lightapi.net", "specversion": "1.0", "aggregatetype": "Rule", "datacontenttype": "application/json", "aggregateversion": "1"}
{"id": "01991acb-2c5a-77af-8a6a-a1eb067dafb8", "data": {"common": "Y", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "ruleId": "allow-attribute-based-access-control.lightapi.net.dev.lightapi.net", "actions": [{"actionId": "attribute-based-access-control-action", "actionDesc": "Call action to verify the att claim", "actionClassName": "com.networknt.rule.AttributeBasedAccessControlAction", "conditionResult": false}], "ruleBody": "{\"hostId\":\"01964b05-552a-7c4b-9184-6857e7f3dc5f\",\"ruleType\":\"req-acc\",\"ruleOwner\":\"01964b05-5532-7c79-8cde-191dcbd421b8\",\"common\":\"Y\",\"ruleId\":\"allow-attribute-based-access-control.lightapi.net.dev.lightapi.net\",\"ruleName\":\"Attribute-Based Access Control for authorization code token.\",\"ruleVersion\":\"1.0.0\",\"ruleDesc\":\"If the token has att claim, then at least one att in the JWT att claim matches the endpoint permission attributes configuration.\",\"conditions\":[{\"operatorCode\":\"isNotNull\",\"conditionId\":\"attribute-is-not-null\",\"conditionDesc\":\"att in the claim map is not null indicate the token has an att claim. Match it with the endpoint permission with the action.\",\"propertyPath\":\"auditInfo.subject_claims.ClaimsMap.att\",\"index\":1}],\"actions\":[{\"conditionResult\":false,\"actionId\":\"attribute-based-access-control-action\",\"actionDesc\":\"Call action to verify the att claim\",\"actionClassName\":\"com.networknt.rule.AttributeBasedAccessControlAction\"}]}", "ruleDesc": "If the token has att claim, then at least one att in the JWT att claim matches the endpoint permission attributes configuration.", "ruleName": "Attribute-Based Access Control for authorization code token.", "ruleType": "req-acc", "ruleOwner": "01964b05-5532-7c79-8cde-191dcbd421b8", "conditions": [{"index": 1, "conditionId": "attribute-is-not-null", "operatorCode": "isNotNull", "propertyPath": "auditInfo.subject_claims.ClaimsMap.att", "conditionDesc": "att in the claim map is not null indicate the token has an att claim. Match it with the endpoint permission with the action."}], "ruleVersion": "1.0.0", "aggregateVersion": 0, "newAggregateVersion": 1}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-09-05T16:52:26.842550034Z", "type": "RuleCreatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "9", "source": "https://github.com/lightapi/light-portal", "subject": "allow-attribute-based-access-control.lightapi.net.dev.lightapi.net", "specversion": "1.0", "aggregatetype": "Rule", "datacontenttype": "application/json", "aggregateversion": "1"}
{"id": "01991acf-79ec-7203-b900-b66bded6a816", "data": {"common": "Y", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "ruleId": "response-row-filter.lightapi.net.dev.lightapi.net", "actions": [{"actionId": "row-filter-action", "actionDesc": "Invoke the action to filter the response body", "actionClassName": "com.networknt.rule.ResponseRowFilterAction", "conditionResult": false}], "ruleBody": "{\"hostId\":\"01964b05-552a-7c4b-9184-6857e7f3dc5f\",\"ruleType\":\"res-fil\",\"ruleOwner\":\"01964b05-5532-7c79-8cde-191dcbd421b8\",\"common\":\"Y\",\"ruleId\":\"response-row-filter.lightapi.net.dev.lightapi.net\",\"ruleName\":\"Response row filter based on role, group, position, attribute and user\",\"ruleVersion\":\"1.0.0\",\"conditions\":[{\"operatorCode\":\"isNotNull\",\"conditionId\":\"row-is-not-null\",\"conditionDesc\":\"row object is in the objMap in the rule input\",\"propertyPath\":\"row\",\"index\":1}],\"actions\":[{\"conditionResult\":false,\"actionId\":\"row-filter-action\",\"actionDesc\":\"Invoke the action to filter the response body\",\"actionClassName\":\"com.networknt.rule.ResponseRowFilterAction\"}]}", "ruleName": "Response row filter based on role, group, position, attribute and user", "ruleType": "res-fil", "ruleOwner": "01964b05-5532-7c79-8cde-191dcbd421b8", "conditions": [{"index": 1, "conditionId": "row-is-not-null", "operatorCode": "isNotNull", "propertyPath": "row", "conditionDesc": "row object is in the objMap in the rule input"}], "ruleVersion": "1.0.0", "aggregateVersion": 0, "newAggregateVersion": 1}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-09-05T16:57:08.844159073Z", "type": "RuleCreatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "10", "source": "https://github.com/lightapi/light-portal", "subject": "response-row-filter.lightapi.net.dev.lightapi.net", "specversion": "1.0", "aggregatetype": "Rule", "datacontenttype": "application/json", "aggregateversion": "1"}
{"id": "01991ad2-0748-7709-8f09-4986652b47a0", "data": {"common": "Y", "hostId": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "ruleId": "response-column-filter.lightapi.net.dev.lightapi.net", "actions": [{"actionId": "col-filter-action", "actionDesc": "Invoke the action to filter the response body", "actionClassName": "com.networknt.rule.ResponseColumnFilterAction", "conditionResult": false}], "ruleBody": "{\"hostId\":\"01964b05-552a-7c4b-9184-6857e7f3dc5f\",\"ruleType\":\"res-fil\",\"ruleOwner\":\"01964b05-5532-7c79-8cde-191dcbd421b8\",\"common\":\"Y\",\"ruleId\":\"response-column-filter.lightapi.net.dev.lightapi.net\",\"ruleName\":\"Response column filter based on role, group, position, attribute and user\",\"ruleVersion\":\"1.0.0\",\"conditions\":[{\"operatorCode\":\"isNotNull\",\"conditionId\":\"col-is-not-null\",\"conditionDesc\":\"col object is in the objMap in the rule input\",\"propertyPath\":\"col\",\"index\":1}],\"actions\":[{\"conditionResult\":false,\"actionId\":\"col-filter-action\",\"actionDesc\":\"Invoke the action to filter the response body\",\"actionClassName\":\"com.networknt.rule.ResponseColumnFilterAction\"}]}", "ruleName": "Response column filter based on role, group, position, attribute and user", "ruleType": "res-fil", "ruleOwner": "01964b05-5532-7c79-8cde-191dcbd421b8", "conditions": [{"index": 1, "conditionId": "col-is-not-null", "operatorCode": "isNotNull", "propertyPath": "col", "conditionDesc": "col object is in the objMap in the rule input"}], "ruleVersion": "1.0.0", "aggregateVersion": 0, "newAggregateVersion": 1}, "host": "01964b05-552a-7c4b-9184-6857e7f3dc5f", "time": "2025-09-05T16:59:56.104484158Z", "type": "RuleCreatedEvent", "user": "01964b05-5532-7c79-8cde-191dcbd421b8", "nonce": "11", "source": "https://github.com/lightapi/light-portal", "subject": "response-column-filter.lightapi.net.dev.lightapi.net", "specversion": "1.0", "aggregatetype": "Rule", "datacontenttype": "application/json", "aggregateversion": "1"}
